<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><head><script async src="https://www.googletagmanager.com/gtag/js?id=自己的G-MEASUREMENT_ID"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","自己的G-MEASUREMENT_ID")</script></head><title>Java | Satti's Blog</title>
<meta name=keywords content><meta name=description content><meta name=author content="Satti"><link rel=canonical href=https://Sattiluvcat.github.io/en/tags/java/><link crossorigin=anonymous href=/assets/css/stylesheet.af5e671f6a7d21c7f5c73f39af31c43555fd91c98b39460c5187f1f8bccfacdf.css integrity="sha256-r15nH2p9Icf1xz85rzHENVX9kcmLOUYMUYfx+LzPrN8=" rel="preload stylesheet" as=style><link rel=icon type=image/png href=/favicon-48x48.png sizes=48x48><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="MyWebSite"><link rel=manifest href=/site.webmanifest><link rel=alternate type=application/rss+xml href=https://Sattiluvcat.github.io/en/tags/java/index.xml><link rel=alternate hreflang=en href=https://Sattiluvcat.github.io/en/tags/java/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script async src="https://www.googletagmanager.com/gtag/js?id=自己的G-MEASUREMENT_ID"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","自己的G-MEASUREMENT_ID")</script><meta property="og:title" content="Java"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://Sattiluvcat.github.io/en/tags/java/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://Sattiluvcat.github.io/en/ accesskey=h title="Satti's Blog (Alt + H)"><img src=https://Sattiluvcat.github.io/img/label1.jpg alt aria-label=logo height=35>Satti's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Sattiluvcat.github.io/en/search/ title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://Sattiluvcat.github.io/en/ title=🏠主页><span>🏠主页</span></a></li><li><a href=https://Sattiluvcat.github.io/en/tags title=📑标签><span>📑标签</span></a></li><li><a href=https://Sattiluvcat.github.io/en/lulu/ title=😽Lulu><span>😽Lulu</span></a></li><li><a href=https://Sattiluvcat.github.io/en/archives/ title=📅时间轴><span>📅时间轴</span></a></li><li><a href=https://Sattiluvcat.github.io/en/about/ title=😎关于><span>😎关于</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://Sattiluvcat.github.io/en/>Home</a>&nbsp;»&nbsp;<a href=https://Sattiluvcat.github.io/en/tags/>Tags</a></div><h1>Java</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>从0开始的电影之夜</h2></header><div class=entry-content><p> 数据库构建 数据信息 主要组成：来源于所有看过的520部影片，包括电影名、主要演员、导演、评分、类型、语言、初次上映时间等内容 评分包括我的评分与豆瓣评分，优先写我的😤 数据来源与处理方式 Python爬虫，在“我看过的”页面进行抓取 发现豆瓣的upload_auth_token真的没变过，太神奇了··· 挂了学校 VPN 会有登录异常，太神奇了··· response = requests.get(url, headers=header) soup = BeautifulSoup(response.text, 'html.parser') # 根据F12网页结构逐条获取信息 定位到最近的一个div即可 for item in soup.select('div.item.comment-item'): title = item.select_one('div.info li.title a em').text.strip() link = item.select_one('div.info li.title a').get('href') # 综合信息 comp_load = item.select_one('div.info li.intro').text.strip() movies.append({'title': title, 'link': link}) 结合正则表达式对以上提到的信息进行提取，以下只贴导演、时长与类型参数的获取方式 演员名的正则表达式：r'[\u4e00-\u9fa5·]+(?:\s[\u4e00-\u9fa5·]+)*'，即通过/分隔的中文Unicode字符 导演这里有一点小问题，一般来说应该是国家、网址之后写导演名字，此处通过翻译后比较是否是国家或者是否非中文来隔断。 因为pycountry只能处理英文来着··· 只取了第一位导演 考虑到其实并不太重要so··· 某些短片直接粗暴处理了 于我而言并无区别 duration_match = re.search(r'\d+分钟', info) # 选择第一个时长 duration = None director = None tags = [] if duration_match: duration = duration_match.group(0) # 匹配导演-->最后一个中文名 text_before_duration = info[:duration_match.start()] # 以斜杠为标志，分割导演 director_match = re.findall(r'[\u4e00-\u9fa5·]+(?:\s[\u4e00-\u9fa5·]+)*', text_before_duration) if director_match: director = director_match[-1] # 匹配标签 text_after_duration = info[duration_match.end():] slash_index = text_after_duration.find('/') if slash_index != -1: after_name_slash_index = text_after_duration.find('/', slash_index + 1) text_after_movie_name = text_after_duration[after_name_slash_index + 1:] for tag in text_after_movie_name.split('/'): tag = tag.strip() if tag in tag_list: tags.append(tag) else: break return director, duration, tags 存储到MongoDB库 大多为文本数据，所以不选择MySQL方法，后续可能会在用户登录等方面使用MySQL，但文本数据更适合MongoDB 最好添加id信息 MongoDB存储与读取 保存为json格式即可 java中通过@Document(collection = "movies")注解引入MongoDB数据库 后端Java 基本框架 主体模式： 用户进入–>还是强制登录了 点击缩略图，调用{id}接口，跳转页面 搜索结果为PageResult，其中数据是List&lt;MovieRow> （需要记录用户昵称等信息）一起看点击后向指定邮箱发消息 （需要记录用户昵称等信息）个人评分指定后向指定邮箱发消息 登入登出： 用ThreadLocal有点小问题，最后用了Session，监听到页面被关闭即调用登出功能 过程 特殊功能 发送邮件： 其实也可以直接向后端传消息，但是不喜欢。本来想实现的也是可以直接在微信端推送来着，邮箱跟微信绑定一下又曲线救国了（不是 引入依赖–>配置mail–>添加邮箱服务类 即可 处理问题 中文编码不能出现在地址里–>URLEncoder & URLDecoder编码解码即可 让我们说中文 Let us speak Chinese🤐 bug合集 common模块的Result类通过在server模块的pom.xml文件中添加快照依赖dependency-->SNAPSHOT实现在server模块的调用 每个类设置自动填充getter & setter信息需要的注解： @Data @Builder @AllArgsConstructor @NoArgsConstructor Mysql数据库配置的druid需要根据maven的版本改变依赖的版本 如 SpringBoot3 对应 alibaba.druid 2.x 即可（太古早的版本会导致无法读到MySQL的url） MongoDB自设主键_id，默认方法中的getById即指该主键，若需按自定义id搜索，需要换用MongoTemplate 调用Python文件过程： ProcessBuilder对象调用–>可以输入参数 接收到的是输出流（即print部分） 之前一直调用失败，最后在ProcessBuilder对象中添加了解释器路径就好使了 其实这里是模拟命令行 python3在命令行中不能用python，需要py调用来着 邮箱服务类中需配置发信地址，在邮箱服务类中定义发信方法时添加：message.setFrom(from); 避免501 Mail from address must be same as authorization user报错 @Value("${spring.mail.username}") // 此处引用的是配置文件中的信息 private String from; Postman发送请求报错：Error: connect ECONNREFUSED balabal 关闭系统代理，自行设置代理到端口127.0.0.1:8080 前端页面 大致形式 主要流程： 用户访问–>首页–>设置搜索栏与按类别搜索入口 & 下列4~5个电影缩略图 电影缩略图–>点击进入电影详情页 电影详情页P1–>上列电影详情（包括实时从豆瓣电影爬下来的海报与评分） 电影详情页P2–>下列“一起看”与评分功能–>多人评分计算平均分在右侧显示 搜索–>搜索结果以缩略图形式显示，分页结果</p></div><footer class=entry-footer><span title='2024-12-16 17:10:45 +0800 +0800'>2024-12-16</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;<span title='Last updated 2024-12-18 23:57:45 +0800 +0800'>Last updated on 2024-12-18</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to 从0开始的电影之夜" href=https://Sattiluvcat.github.io/en/posts/hobbies/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E7%9A%84%E7%94%B5%E5%BD%B1%E4%B9%8B%E5%A4%9C/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>八股</h2></header><div class=entry-content><p> 数据库 基本 数据库 常见名词 元组——一条记录就是一个元组（一行） 码——唯一标识实体的属性（一列） 候选码——候选的可以唯一标识元组的码（且不包括多余属性——否则为超键） 主码——主键 外码——另外关系中的主码 主属性（可以当候选码的） 非主属性（不包含在任何候选码的属性） ER图——实体联系图 包括：实体 属性 联系（实体与实体间的关系） 形状：矩形 椭圆 菱形（一一对应） 范式：1NF（第一范式） 2NF 3NF 1NF:字段有原子性 数据不可再分（每格数据不可再分） 2NF：消除非主属性对码的部分函数依赖（= 完全依赖） 一张表中 X确定 Y必确定 = X–>Y（Y函数依赖于X） X 的真子集 Xo–>Y（Y 部分函数依赖于 X）——数据冗余 CUD 异常 CRUD create read update delete 完全依赖：(X,Y)–>Z 但X Y单个都不可依赖 3NF:所有非主键属性间不能依赖 必相互独立 外键与级联： 级联更新&删除：更新/删除某主键 若其被其他表引用 则需更新/删除所有引用记录 delete vs drop vs truncate 用法：drop丢弃（table） truncate清空数据 id回到1 delete删除数据（行）id无影响 delete可以回滚 事务提交后生效（会产生日志） drop释放表空间 truncate不产生日志（不能回滚 NoSQL 与SQL的区别： 非结构化存储 vs 结构化存储（固定行和列） 通常不支持ACID vs ACID MongoDB支持 但有所区别 atom consistency isolation durability balabal vs 性能取决于磁盘子系统 优化查询 索引 表结构等获得最佳性能 横向拓展（基于分片机制——水平分割 以行为单位分割并分开存储） vs 垂直（读写分离 分库分表 ···） 特点：灵活 可拓展 高性能 类型：文档 键值 图形 宽列 字符集 utf8 utf8mb4
...</p></div><footer class=entry-footer><span title='2024-12-08 17:00:48 +0800 +0800'>2024-12-08</span>&nbsp;·&nbsp;16 min&nbsp;·&nbsp;<span title='Last updated 2024-12-11 00:30:48 +0800 +0800'>Last updated on 2024-12-11</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to 八股" href=https://Sattiluvcat.github.io/en/posts/notes/%E5%85%AB%E8%82%A1/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>CS186</h2></header><div class=entry-content><p> Notes Proj0 运行CommandLineInterface.java时报错：Exception in thread "main" java.lang.NullPointerException at java.base/java.io.Reader.等 将resources文件夹修改为资源根目录 Proj1 运行sqlite3载入db文件失败 cmd中直接运行sqlite3 lahman.db python在cmd中运行无反应： 检查环境变量（已添加） 运行py test.py即可，py代表python3 left join适合对右表中不存在的但是想在结果中显示的数据进行处理（左表中需存在） 求和：sum 统计数量：count 子查询：eg.查询某值大于某个人该值的列表——某个人该值作为子查询部分，在order前添加 and lslq>(select cast(sum(H-H2B-H3B-HR+2*H2B+3*H3B+4*HR) as float)/sum(AB) as ones from batting,people where people.playerID='mayswi01' group by batting.playerID) order by lslq desc Proj2 用B+树为存储的数据编写index 提升查询效率（select * from table语句）
...</p></div><footer class=entry-footer><span title='2024-12-02 16:03:47 +0800 +0800'>2024-12-02</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;<span title='Last updated 2024-12-11 00:30:30 +0800 +0800'>Last updated on 2024-12-11</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to CS186" href=https://Sattiluvcat.github.io/en/posts/java/cs186/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>点评Proj</h2></header><div class=entry-content><p> 功能完善 拦截器 Utils中实现添加拦截器Interceptor功能，在config中添加MVCConfig以添加拦截器并设置排除拦截的地址 session 存储用户基本信息即可
...</p></div><footer class=entry-footer><span title='2024-11-16 12:16:45 +0800 +0800'>2024-11-16</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;<span title='Last updated 2024-12-13 23:13:45 +0800 +0800'>Last updated on 2024-12-13</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to 点评Proj" href=https://Sattiluvcat.github.io/en/posts/java/%E7%82%B9%E8%AF%84proj/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>外卖Proj</h2></header><div class=entry-content><p> 概要 产品原型：展示项目的业务功能
技术选型： 前端已完成 知识点 JavaScript 三种变量：var——全局&可变 let——局部&唯一 const——全局&不可变 特殊运算符：==不同类型进行类型转换后再比较 ===（全等）不进行类型转换即比较（不同类型必报错） 类型转换： 除0与NaN转换为false外其它全为true 除空字符串转为false外均为true parseInt转换为int类型 JSON格式：先属性后函数 else——XHR xml http request Maven java项目管理与构建 基于项目对象模型POM
...</p></div><footer class=entry-footer><span title='2024-11-06 10:59:21 +0800 +0800'>2024-11-06</span>&nbsp;·&nbsp;16 min&nbsp;·&nbsp;<span title='Last updated 2024-11-27 12:05:43 +0800 +0800'>Last updated on 2024-11-27</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to 外卖Proj" href=https://Sattiluvcat.github.io/en/posts/java/%E5%A4%96%E5%8D%96proj/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>数据结构</h2></header><div class=entry-content><p> 部分代码来自：OI WIKI 基础 三要素 数据结构 = 逻辑结构 + 数据运算 + 物理结构 逻辑结构=集合+线性+树形+图状 运算=增删改查 物理结构=存储结构=顺序+链式+索引+散列 存储 时间复杂度排序：O(1) &lt; O(log~2~n) &lt; O(n) &lt; O(nlog~2~n) &lt; O(n^2^) &lt; O(n^3^) &lt; O(2^n^) &lt; O(n!) &lt; O(n^n^) 最坏&平均时间复杂度度量 最深层循环的循环次数与n的关系 乘法规则：相乘后度量 空间复杂度 内存中的变量存储大小 递归&动态规划 递归：选定递归基 + 认定该方法可以解决该问题
...</p></div><footer class=entry-footer><span title='2024-10-26 18:51:24 +0800 +0800'>2024-10-26</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;<span title='Last updated 2024-11-14 22:35:24 +0800 +0800'>Last updated on 2024-11-14</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to 数据结构" href=https://Sattiluvcat.github.io/en/posts/notes/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Redis_base</h2></header><div class=entry-content><p> 简介 NoSql 非关系型数据库 No Structured Relational
特点： 表型 JSON型 图型==非结构化 Redis为键值类型 JSON表==数据无关联 查询方式==非SQL（语法不统一） 事务ACID无法全部满足==BASE 存储==内存 使用场景： 数据结构不固定 对一致性 安全性要求不高 性能要求 Redis 特征： 键值型 key-value 支持多种数据结构 单线程 命令具原子性 低延迟 内存 IO多路复用 编码风格 支持数据持久化 支持主从集群 分片集群（主表&从表） 多语言客户端 redis-cli -h 192.168.211.129 -p 6379 -a 密码
启动（不安全） systemctl stop redis关闭 连接虚拟机与图形化界面失败=检查防火墙
...</p></div><footer class=entry-footer><span title='2024-10-25 11:12:43 +0800 +0800'>2024-10-25</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;<span title='Last updated 2024-10-25 11:12:43 +0800 +0800'>Last updated on 2024-10-25</span>&nbsp;·&nbsp;Satti</footer><a class=entry-link aria-label="post link to Redis_base" href=https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://Sattiluvcat.github.io/en/>Satti's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-551JRG13S2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-551JRG13S2")</script></body></html>