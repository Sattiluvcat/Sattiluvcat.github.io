<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-551JRG13S2"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-551JRG13S2")}</script></head><title>Redis_base | Satti's Blog</title>
<meta name=keywords content="Redis,Java"><meta name=description content="数据类型与基础操作"><meta name=author content="Satti"><link rel=canonical href=https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/><link crossorigin=anonymous href=/assets/css/stylesheet.c5df81d78a700d63222bf88c998222af7e6085cc41585cba2eff58e49fd49e25.css integrity="sha256-xd+B14pwDWMiK/iMmYIir35ghcxBWFy6Lv9Y5J/UniU=" rel="preload stylesheet" as=style><link rel=icon type=image/png href=/favicon-48x48.png sizes=48x48><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="MyWebSite"><link rel=manifest href=/site.webmanifest><link rel=alternate hreflang=en href=https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-551JRG13S2"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-551JRG13S2")}</script><meta property="og:title" content="Redis_base"><meta property="og:description" content="数据类型与基础操作"><meta property="og:type" content="article"><meta property="og:url" content="https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-25T11:12:43+08:00"><meta property="article:modified_time" content="2024-10-25T11:12:43+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Redis_base"><meta name=twitter:description content="数据类型与基础操作"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章","item":"https://Sattiluvcat.github.io/en/posts/"},{"@type":"ListItem","position":2,"name":"Java💻","item":"https://Sattiluvcat.github.io/en/posts/java/"},{"@type":"ListItem","position":3,"name":"Redis_base","item":"https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Redis_base","name":"Redis_base","description":"数据类型与基础操作","keywords":["Redis","Java"],"articleBody":" 简介 NoSql 非关系型数据库 No Structured Relational\n特点： 表型 JSON型 图型==非结构化 Redis为键值类型 JSON表==数据无关联 查询方式==非SQL（语法不统一） 事务ACID无法全部满足==BASE 存储==内存 使用场景： 数据结构不固定 对一致性 安全性要求不高 性能要求 Redis 特征： 键值型 key-value 支持多种数据结构 单线程 命令具原子性 低延迟 内存 IO多路复用 编码风格 支持数据持久化 支持主从集群 分片集群（主表\u0026从表） 多语言客户端 redis-cli -h 192.168.211.129 -p 6379 -a 密码\n启动（不安全） systemctl stop redis关闭 连接虚拟机与图形化界面失败=检查防火墙\n基本语法 不区分大小写\n数据结构 value类型 基本类型：String Hash List（可重复） Set SortedSet（排序集合 不可重复） 特殊类型：GEO（地理坐标） BitMap HyperLog 帮助文档 or 命令行 help\n通用命令 用help 命令名查看命令的具体使用方法\nKEYS查看符合模板pattern如a**的所有key（以a开头的key） 慢 DEL删key 会返回删除的个数 EXISTS判断是否存在 EXPIRE设置key的有效期 TTL查看key的剩余有效期 类型\u0026命令 String 分类 类型 数据结构 string 字符串 int 整型 float 浮点数 常见命令 命令 作用 SET 添加/修改键值对 GET 由key得value MSET/MGET 批量操作 INCR 整型key自增1 INCRBY 整型自增指定步长 INCRBYFLOAT 浮点类型自增指定步长 SETNX 添加String键值对 前提key不存在 SETEX 添加String键值对 指定有效期 SETNX==SET key value NX\n返回0表示键值已存在不会添加\n返回1表示不存在已添加 层级结构 key的层级结构：用:隔开\n若值为Java对象 可用JSON形式存储： eg.'{\"id\":1, \"name\":\"Satti\", \"age\":20}'单引 Hash类型 无序字典 类HashMap CRUD 增删改查\n相对String类型的JSON字符串 可以将每个字段独立存储 KEY保存键名 VALUE中field保存字段名 value保存值 常见命令 命令 作用 HSET 添加/修改hash类型一对field\u0026value HGET hash类型由key得filed HMSET/HMGET 对一个key批量操作 HGETALL 由key得所有field value HKEYS key中所有field HVALS key中所有value HINCRBY 字段值按指定步长自增 HSETNX 添加field 前提field不存在 List类型 类似LinkedList 但双向链表\n特征：有序 可重复 插入删除快 查询速度一般 常见命令 命令 作用 LPUSH/RPUSH 列表左/右侧插入 LPOP/RPOP 移除左/右侧第一个 LRANGE 返回一段角标范围内的所有元素 BLPOP/BRPOP 没有元素时等待指定的时间 移除时无元素 返回nil 角标 = 序号 从0开始 Set类型 类HashSet =\u003e value为null的HashMap\n特征： 无序 不可重复 查找快 支持交并差集 常见命令： 命令 作用 SADD 向set添加元素 可多个 SREM 移除指定元素 SCARD 返回元素个数 SISMEMBER 是否有某元素 SMEMBERS 返回所有value 命令 作用 SINTER 求两键交集 SDIFF key1相对于key2不同的值（差集） SUNION 并集 SDIFF中key有先后顺序 SortedSet 类TreeSet（可排序的set） 数据结构不同\n每个元素具有score属性 通过属性排序=SkipList+Hash 特性： 可排序 元素不重复 查询速度快 常见命令：ZADD ZREM ZCARD ZINCRBY ZDIFF ZINTER ZUNION add时提示NX|XX NX-不存在时才插入该键 XX-存在时才插入该键 命令 作用 ZSORE 获取指定元素score ZRANK 获取指定元素排名 ZCOUNT score在某范围内的元素个数 ZRANGE 按score排序得指定排名范围内元素 ZRANGEBYSCORE 指定score范围内 默认升序排序 Z后加REV即为降序 Jedis 开启测试后通过new对象建立连接\njedis=new Jedis(ip,port);\n设置密码\njedis.auth(password)\n选择库\njedis.select(index) SpringDataRedis RedisTemplate工具类 redisTemplate.opsForValue()类似语句调用上述数据类型\n返回值类型如ValueOperations 步骤： 引入spring-boot-starter-data-redis依赖 application.yaml配置Redis 编写RedisTemplate配置类 设置@Bean test中Autowired注入RedisTemplate\u0026进行Test试验 函数opsForValue()等调用value等对象（方法名有变动） StringRedisTemplate手动序列化\u0026反序列化 节省内存 可以json形式存储、读取数据 or 编码为字符串类型 使用函数StringRedisSerializer 以对象形式初始化、接收 故需要手动进行序列化转换 ","wordCount":"1725","inLanguage":"en","datePublished":"2024-10-25T11:12:43+08:00","dateModified":"2024-10-25T11:12:43+08:00","author":[{"@type":"Person","name":"Satti"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://Sattiluvcat.github.io/en/posts/java/redis%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B0/"},"publisher":{"@type":"Organization","name":"Satti's Blog","logo":{"@type":"ImageObject","url":"https://Sattiluvcat.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://Sattiluvcat.github.io/en/ accesskey=h title="Satti's Blog (Alt + H)"><img src=https://Sattiluvcat.github.io/img/label1.jpg alt aria-label=logo height=35>Satti's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Sattiluvcat.github.io/en/search/ title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://Sattiluvcat.github.io/en/ title=🏠主页><span>🏠主页</span></a></li><li><a href=https://Sattiluvcat.github.io/en/tags title=📑标签><span>📑标签</span></a></li><li><a href=https://Sattiluvcat.github.io/en/lulu/ title=😽Lulu><span>😽Lulu</span></a></li><li><a href=https://Sattiluvcat.github.io/en/archives/ title=📅时间轴><span>📅时间轴</span></a></li><li><a href=https://Sattiluvcat.github.io/en/about/ title=😎关于><span>😎关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://Sattiluvcat.github.io/en/>Home</a>&nbsp;»&nbsp;<a href=https://Sattiluvcat.github.io/en/posts/>文章</a>&nbsp;»&nbsp;<a href=https://Sattiluvcat.github.io/en/posts/java/>Java💻</a></div><h1 class="post-title entry-hint-parent">Redis_base</h1><div class=post-meta><span title='2024-10-25 11:12:43 +0800 +0800'>2024-10-25</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;<span title='Last updated 2024-10-25 11:12:43 +0800 +0800'>Last updated on 2024-10-25</span>&nbsp;·&nbsp;Satti</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e7%ae%80%e4%bb%8b aria-label=简介>简介</a><ul><li><a href=#nosql aria-label=NoSql>NoSql</a></li><li><a href=#redis aria-label=Redis>Redis</a></li></ul></li><li><a href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95 aria-label=基本语法>基本语法</a><ul><li><a href=#%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84 aria-label=数据结构>数据结构</a></li><li><a href=#%e9%80%9a%e7%94%a8%e5%91%bd%e4%bb%a4 aria-label=通用命令>通用命令</a></li><li><a href=#%e7%b1%bb%e5%9e%8b%e5%91%bd%e4%bb%a4 aria-label=类型&命令>类型&命令</a><ul><li><a href=#string aria-label=String>String</a></li><li><a href=#%e5%b1%82%e7%ba%a7%e7%bb%93%e6%9e%84 aria-label=层级结构>层级结构</a></li><li><a href=#hash%e7%b1%bb%e5%9e%8b aria-label=Hash类型>Hash类型</a></li><li><a href=#list%e7%b1%bb%e5%9e%8b aria-label=List类型>List类型</a></li><li><a href=#set%e7%b1%bb%e5%9e%8b aria-label=Set类型>Set类型</a></li><li><a href=#sortedset aria-label=SortedSet>SortedSet</a></li></ul></li></ul></li><li><a href=#jedis aria-label=Jedis>Jedis</a></li><li><a href=#springdataredis aria-label=SpringDataRedis>SpringDataRedis</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p> </p><p> </p><h2 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h2><h3 id=nosql>NoSql<a hidden class=anchor aria-hidden=true href=#nosql>#</a></h3><blockquote><p>非关系型数据库 No Structured Relational</p></blockquote><ol><li>特点：</li></ol><ul><li>表型 JSON型 图型==非结构化<ul><li>Redis为键值类型</li></ul></li><li>JSON表==数据无关联</li><li>查询方式==非SQL（语法不统一）</li><li>事务ACID无法全部满足==BASE</li><li>存储==内存</li><li>使用场景：<ul><li>数据结构不固定</li><li>对一致性 安全性要求不高</li><li>性能要求</li></ul></li></ul><h3 id=redis>Redis<a hidden class=anchor aria-hidden=true href=#redis>#</a></h3><ol><li>特征：<ul><li>键值型 key-value 支持多种数据结构</li><li>单线程 命令具原子性</li><li>低延迟<ul><li>内存</li><li>IO多路复用</li><li>编码风格</li></ul></li><li>支持数据持久化</li><li>支持主从集群 分片集群（主表&从表）</li><li>多语言客户端</li></ul></li><li><code>redis-cli -h 192.168.211.129 -p 6379 -a 密码</code><br>启动（不安全）</li><li><code>systemctl stop redis</code>关闭</li></ol><blockquote><p>连接虚拟机与图形化界面失败=检查防火墙</p></blockquote><h2 id=基本语法>基本语法<a hidden class=anchor aria-hidden=true href=#基本语法>#</a></h2><blockquote><p>不区分大小写</p></blockquote><h3 id=数据结构>数据结构<a hidden class=anchor aria-hidden=true href=#数据结构>#</a></h3><ol><li>value类型<ul><li>基本类型：String Hash List（可重复） Set SortedSet（排序集合 不可重复）</li><li>特殊类型：GEO（地理坐标） BitMap HyperLog</li></ul></li></ol><blockquote><p><a href=%22https://redis.io/commands%22>帮助文档</a> or 命令行 <code>help</code></p></blockquote><h3 id=通用命令>通用命令<a hidden class=anchor aria-hidden=true href=#通用命令>#</a></h3><blockquote><p>用<code>help 命令名</code>查看命令的具体使用方法</p></blockquote><ol><li><code>KEYS</code>查看符合模板<code>pattern</code>如<code>a**</code>的所有key（以a开头的key）<ul><li>慢</li></ul></li><li><code>DEL</code>删key<ul><li>会返回删除的个数</li></ul></li><li><code>EXISTS</code>判断是否存在</li><li><code>EXPIRE</code>设置key的有效期</li><li><code>TTL</code>查看key的剩余有效期</li></ol><h3 id=类型命令>类型&命令<a hidden class=anchor aria-hidden=true href=#类型命令>#</a></h3><h4 id=string>String<a hidden class=anchor aria-hidden=true href=#string>#</a></h4><ol><li>分类<table><thead><tr><th style=text-align:center>类型</th><th style=text-align:center>数据结构</th></tr></thead><tbody><tr><td style=text-align:center>string</td><td style=text-align:center>字符串</td></tr><tr><td style=text-align:center>int</td><td style=text-align:center>整型</td></tr><tr><td style=text-align:center>float</td><td style=text-align:center>浮点数</td></tr></tbody></table></li><li>常见命令</li></ol><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>SET</td><td style=text-align:center>添加/修改键值对</td></tr><tr><td style=text-align:center>GET</td><td style=text-align:center>由key得value</td></tr><tr><td style=text-align:center>MSET/MGET</td><td style=text-align:center>批量操作</td></tr><tr><td style=text-align:center>INCR</td><td style=text-align:center>整型key自增1</td></tr><tr><td style=text-align:center>INCRBY</td><td style=text-align:center>整型自增指定步长</td></tr><tr><td style=text-align:center>INCRBYFLOAT</td><td style=text-align:center>浮点类型自增指定步长</td></tr><tr><td style=text-align:center>SETNX</td><td style=text-align:center>添加String键值对 前提key不存在</td></tr><tr><td style=text-align:center>SETEX</td><td style=text-align:center>添加String键值对 指定有效期</td></tr></tbody></table><ul><li><code>SETNX</code>==<code>SET key value NX</code><br>返回0表示键值已存在不会添加<br>返回1表示不存在已添加</li></ul><h4 id=层级结构>层级结构<a hidden class=anchor aria-hidden=true href=#层级结构>#</a></h4><ol><li>key的层级结构：用<code>:</code>隔开<br>若值为Java对象 可用JSON形式存储：
eg.<code>'{"id":1, "name":"Satti", "age":20}'</code>单引</li></ol><h4 id=hash类型>Hash类型<a hidden class=anchor aria-hidden=true href=#hash类型>#</a></h4><blockquote><p>无序字典 类HashMap
CRUD 增删改查</p></blockquote><ol><li>相对String类型的JSON字符串 可以将每个字段独立存储<ul><li><code>KEY</code>保存键名 <code>VALUE</code>中<code>field</code>保存字段名 <code>value</code>保存值</li></ul></li><li>常见命令</li></ol><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>HSET</td><td style=text-align:center>添加/修改hash类型一对field&amp;value</td></tr><tr><td style=text-align:center>HGET</td><td style=text-align:center>hash类型由key得filed</td></tr><tr><td style=text-align:center>HMSET/HMGET</td><td style=text-align:center>对一个key批量操作</td></tr><tr><td style=text-align:center>HGETALL</td><td style=text-align:center>由key得所有field value</td></tr><tr><td style=text-align:center>HKEYS</td><td style=text-align:center>key中所有field</td></tr><tr><td style=text-align:center>HVALS</td><td style=text-align:center>key中所有value</td></tr><tr><td style=text-align:center>HINCRBY</td><td style=text-align:center>字段值按指定步长自增</td></tr><tr><td style=text-align:center>HSETNX</td><td style=text-align:center>添加field 前提field不存在</td></tr></tbody></table><h4 id=list类型>List类型<a hidden class=anchor aria-hidden=true href=#list类型>#</a></h4><blockquote><p>类似LinkedList 但<strong>双向</strong>链表</p></blockquote><ol><li>特征：有序 可重复 插入删除快 查询速度一般</li><li>常见命令</li></ol><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>LPUSH/RPUSH</td><td style=text-align:center>列表左/右侧插入</td></tr><tr><td style=text-align:center>LPOP/RPOP</td><td style=text-align:center>移除左/右侧第一个</td></tr><tr><td style=text-align:center>LRANGE</td><td style=text-align:center>返回一段角标范围内的所有元素</td></tr><tr><td style=text-align:center>BLPOP/BRPOP</td><td style=text-align:center>没有元素时等待指定的时间</td></tr></tbody></table><ul><li>移除时无元素 返回<code>nil</code></li><li>角标 = <strong>序号</strong> 从0开始</li></ul><h4 id=set类型>Set类型<a hidden class=anchor aria-hidden=true href=#set类型>#</a></h4><blockquote><p>类HashSet => value为null的HashMap</p></blockquote><ol><li>特征：<ul><li><strong>无序</strong></li><li>不可重复</li><li>查找快</li><li>支持交并差集</li></ul></li><li>常见命令：</li></ol><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>SADD</td><td style=text-align:center>向set添加元素 可多个</td></tr><tr><td style=text-align:center>SREM</td><td style=text-align:center>移除指定元素</td></tr><tr><td style=text-align:center>SCARD</td><td style=text-align:center>返回元素个数</td></tr><tr><td style=text-align:center>SISMEMBER</td><td style=text-align:center>是否有某元素</td></tr><tr><td style=text-align:center>SMEMBER<strong>S</strong></td><td style=text-align:center>返回所有value</td></tr></tbody></table><hr><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>SINTER</td><td style=text-align:center>求两键交集</td></tr><tr><td style=text-align:center>SDIFF</td><td style=text-align:center>key1相对于key2不同的值（差集）</td></tr><tr><td style=text-align:center>SUNION</td><td style=text-align:center>并集</td></tr></tbody></table><ul><li><code>SDIFF</code>中key有先后顺序</li></ul><h4 id=sortedset>SortedSet<a hidden class=anchor aria-hidden=true href=#sortedset>#</a></h4><blockquote><p>类TreeSet（可排序的set） 数据结构不同</p></blockquote><ol><li>每个元素具有score属性 通过属性排序=SkipList+Hash</li><li>特性：<ul><li>可排序</li><li>元素不重复</li><li>查询速度快</li></ul></li><li>常见命令：<code>ZADD</code> <code>ZREM</code> <code>ZCARD</code> <code>ZINCRBY</code> <code>ZDIFF</code> <code>ZINTER</code> <code>ZUNION</code></li></ol><ul><li><code>add</code>时提示<code>NX|XX</code> <code>NX</code>-不存在时才插入该键 <code>XX</code>-存在时才插入该键</li></ul><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>作用</th></tr></thead><tbody><tr><td style=text-align:center>ZSORE</td><td style=text-align:center>获取指定元素score</td></tr><tr><td style=text-align:center>ZRANK</td><td style=text-align:center>获取指定元素排名</td></tr><tr><td style=text-align:center>ZCOUNT</td><td style=text-align:center>score在某范围内的元素个数</td></tr><tr><td style=text-align:center>ZRANGE</td><td style=text-align:center>按score排序得指定<strong>排名</strong>范围内元素</td></tr><tr><td style=text-align:center>ZRANGEBYSCORE</td><td style=text-align:center>指定<strong>score</strong>范围内</td></tr></tbody></table><ul><li>默认升序排序</li><li><code>Z</code>后加<code>REV</code>即为降序</li></ul><h2 id=jedis>Jedis<a hidden class=anchor aria-hidden=true href=#jedis>#</a></h2><ol><li>开启测试后通过new对象建立连接<br><code>jedis=new Jedis(ip,port);</code><br>设置密码<br><code>jedis.auth(password)</code><br>选择库<br><code>jedis.select(index)</code></li></ol><h2 id=springdataredis>SpringDataRedis<a hidden class=anchor aria-hidden=true href=#springdataredis>#</a></h2><ol><li><code>RedisTemplate</code>工具类<ul><li><code>redisTemplate.opsForValue()</code>类似语句调用上述数据类型<br>返回值类型如<code>ValueOperations</code></li></ul></li><li>步骤：<ul><li>引入<code>spring-boot-starter-data-redis</code>依赖</li><li><code>application.yaml</code>配置<code>Redis</code></li><li>编写<code>RedisTemplate</code>配置类 设置<code>@Bean</code></li><li><code>test</code>中<code>Autowired</code>注入<code>RedisTemplate</code>&进行<code>Test</code>试验</li><li>函数<code>opsForValue()</code>等调用value等对象（方法名有变动）</li></ul></li><li><code>StringRedisTemplate</code>手动序列化&反序列化 节省内存<ul><li>可以json形式存储、读取数据 or 编码为字符串类型 使用函数<code>StringRedisSerializer</code></li><li>以对象形式初始化、接收 故需要手动进行序列化转换</li></ul></li></ol><script type=module>  
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs'; 
    mermaid.initialize({ startOnLoad: true });  
</script><script>Array.from(document.getElementsByClassName("language-mermaid")).forEach(e=>{e.parentElement.outerHTML=`<div class="mermaid">${e.innerHTML}</div>`})</script><style>.mermaid svg{display:block;margin:auto}</style></div><footer class=post-footer><ul class=post-tags><li><a href=https://Sattiluvcat.github.io/en/tags/redis/>Redis</a></li><li><a href=https://Sattiluvcat.github.io/en/tags/java/>Java</a></li></ul><nav class=paginav><a class=prev href=https://Sattiluvcat.github.io/en/posts/java/mysql/><span class=title>« Prev</span><br><span>MySql</span>
</a><a class=next href=https://Sattiluvcat.github.io/en/posts/java/mysql_base/><span class=title>Next »</span><br><span>MySql基础</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on x" href="https://x.com/intent/tweet/?text=Redis_base&amp;url=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f&amp;hashtags=Redis%2cJava"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f&amp;title=Redis_base&amp;summary=Redis_base&amp;source=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f&title=Redis_base"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on whatsapp" href="https://api.whatsapp.com/send?text=Redis_base%20-%20https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on telegram" href="https://telegram.me/share/url?text=Redis_base&amp;url=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Redis_base on ycombinator" href="https://news.ycombinator.com/submitlink?t=Redis_base&u=https%3a%2f%2fSattiluvcat.github.io%2fen%2fposts%2fjava%2fredis%25E7%259A%2584%25E5%259F%25BA%25E7%25A1%2580%25E7%259F%25A5%25E8%25AF%2586%25E7%25AC%2594%25E8%25AE%25B0%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://www-sattiluvcat-github-io.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><script id=dsq-count-scr src=//www-sattiluvcat-github-io.disqus.com/count.js async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://Sattiluvcat.github.io/en/>Satti's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-551JRG13S2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-551JRG13S2")</script></body></html>